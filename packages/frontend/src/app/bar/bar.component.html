<div *ngIf="!bar" class="bar-loader">
  <mat-spinner></mat-spinner>
</div>

<div *ngIf="!!bar" class="bar">

  <img src="assets/bar.png" alt="bar" class="bar__cover">

  <div class="bar__details">
    <h1 class="bar__name">
      {{bar.name}} <span class="bar__location">/ {{bar.location}}</span>
    </h1>

    <div class="bar__rating">
      <button class="bar__rating-up">
      {{bar.thumbsUp}}
        <span class="material-icons">
            thumb_up
          </span>
      </button>
      <button class="bar__rating-down">
        <span class="material-icons">
            thumb_down
        </span>
        {{bar.thumbsDown}}
      </button>
    </div>
  </div>

  <div class="bar__menu">
    <h2>Menu</h2>

    <ul class="bar__menu-list">
      <li class="bar__menu-list-item" *ngFor="let menu of bar.menu">
        <p>{{menu.manufacturer.name}}</p>

        <ul class="beer-list">
          <li class="beer-list__item" *ngFor="let beer of menu.beers">
            <p class="beer-name">{{beer.beer.name}}</p>
            <p class="beer-alcohol">{{beer.beer.alcoholContent}}</p>
            <p class="beer-price">{{beer.price}}z≈Ç</p>
          </li>
        </ul>

        <div *ngIf="isOwnedByUser" class="beer-list__item-actions">
          <button mat-icon-button (click)="openBarMenuEditionDialog(menu)">
                <span class="material-icons">
                  edit
                </span>
          </button>

          <button mat-icon-button (click)="deleteBarMenu(menu)">
                <span class="material-icons">
                  delete
                </span>
          </button>
        </div>
      </li>

      <li *ngIf="isOwnedByUser" class="bar__menu-list-item">
        <button class="bar__menu-add-button" mat-icon-button (click)="handleOnMenuAddClick()">
          <span class="material-icons">add</span>
        </button>
      </li>
    </ul>
  </div>
</div>
